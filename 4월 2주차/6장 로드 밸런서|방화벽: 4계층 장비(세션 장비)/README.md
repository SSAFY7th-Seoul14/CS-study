### L4스위치 동작을 위해 설정해야할 4가지에 대해 설명해주세요.

1. 가상 서버(Virtual Server) : 사용자가 바라보는 실제 서비스
2. 가상 IP(Virtual IP) : 사용자가 접근해야하는 서비스 IP 주소
3. 리얼 서버(Real Server) : 실제 서비스를 수행하는 서버
4. 리얼 IP(Real IP) : 실제 서버의 IP
사용자가 가상 IP를 목적지로 서비스 요청 -> L4 스위치가 리얼 IP로 다신 변경

### 세션 관리에 있어서 개발자 입장에서 고려해야 하는 사항에 대해 설명해주세요.

애플리케이션에서 주기적인 패킷 발생기능 추가
앱 개발시 중간에 통신이 없더라도 일정 시간마다 세션 상태 정보 체크를 위한 더미 패킷(Dummy Packet)을 보내는 기능을 추가하면 세션타임 아웃 발생 전에 세션을 유지할 수 있음. 세션 만료 시간 문제 해결에 가장 바람직한 방법.

### 비대칭 경로를 방화벽에서 처리할 수 있는 방법과 한계에 대해 설명해주세요.

1. 세션 테이블 동기화
두 경로상 두 장비가 하나의 장비처럼 동작 -> 비대칭 경로에서도 정상적 작동
동기화 시간보다 패킷 응답이 빠르면 정상 동작하지 않을 수 있다는 한계가 있음. 데이터 센터에서 응답시간이 빠른 앱의 경우 추천하지 않음.
인터넷 게이트웨이로 방화벽이 사용될 때 유용
2. 세션 장비에서 보정
인바운드 전에 아웃바운드 패킷이 오면 인바운드가 통과한 세션 장비 쪽으로 패킷을 보내 경로 보정, MAC 리라이팅(Rewriting), 터널링(Tunneling) 기법으로 보정


### 대규모 트래픽에 대처할 수 있는 방법
서버의 성능을 높이는 Scale-up과 분산 처리를 위해 여러 대의 서버를 두는 Scale-out이 있다. Scale-up 방식의 경우 한계가 있으므로 주로 Scale-out 방식을 사용한다. Scale-out 방식에서 분산 처리를 하기 위해 로드 밸런싱 기술을 사용한다.

### 로드 밸런싱이 무엇인지 설명
로드밸런싱은 서버에 가해지는 부하를 적절히 분산시켜주는 기술을 뜻한다. 처음에 구축한 서버가 초기에 구축한 범위보다 더 큰 트래픽이 생길 경우 사용할 수 없게 된다. 이 때 서버 트래픽을 분산시키기 위해 사용함
서비스의 대표IP주소를 가지고, 요청이 들어오면 이를 실제 IP로 변경하여 요청 해당 시스템에 전송한다


### 서버 확장의 두가지 방법 Scale-up과 Scale-out에 대해 설명
Scale-Up은 하드웨어 부품을 업그레이드 하여 서버 자체의 성능을 향상시키는 것. 부품 추가가 쉽다면 간단히 서비스 사용량을 늘릴 수 있으나 비용이 기하급수적으로 증가.

Scale-Out 방식은 기존 서버와 동일한 것을 여러대 설치하여 로드를 분산하는 방법. Scale-Up 방식보다 더 적은 비용으로 시스템 확장이 가능하지만, Scale-Out을 위해선 별도의 복잡한 아키텍쳐를 이해해야 한다.

### 로드 밸런서의 기본 기능은?
    
서버의 이상 유무를 파악하는 상태 확인(Health Check), 패킷을 캡슐화해서 연결된 상호 간에만 패킷을 구별할 수 있게 해주는 터널링(Tunneling), IP 주소를 변환해주는 NAT 기능이있다.

### L4 로드밸런싱과 L7 로드 밸런싱에 대해 설명하고, 차이를 말해보시오
L4 로드 밸런싱은 4계층의 정보인 TCP, UDP 정보들을 바탕으로 트래픽을 분산한다. 데이터 안을 들여다 보지 않고 패킷 레벨에서만 트래픽을 분산하기 때문에 속도가 빠르고, L7 로드밸런싱에 비해 저렴

L7 로드밸런싱은 7계층의 정보인 HTTP 헤더, URI 등 사용자가 요청한 정보들을 바탕으로 트래픽을 분산하기 때문에 비정상적인 트래픽 판별 가능. 하지만 L4 로드 밸런싱보다 비용 비쌈


### 세션 장비의 세션 만료 시간이 애플리케이션 세션 만료 시간보다 짧은 경우 문제와 해결방안(장비 운영자와 개발자 입장에서 최소 1개씩)    
1. 세션 장비 운영자 입장
    1. 세션 만료시간 증가 - 어플리케이션의 세션 만료 시간보다 길게 설정
    2. 방화벽 설정 - 세션 정보가 없을 때 새로 세션을 만들어 ACK 패킷 허용
    3. 세션 장비 타임아웃시 RST 패킷 전송 - 양 장비에 서로를 출발지/목적지로 가지는 RST패킷을 보내 세션 종료 전달
2. 개발자 입장
    1. 애플리케이션에서 세션이 유지되도록 지속적으로 더미 패킷을 보내는 기능을 내장시키는 것
